-- BoladoHub v4.0 - CORRIGIDO (Tabs e T√≠tulo Vis√≠veis)
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")

local BoladoHub = {}

-- Configura√ß√£o dos temas CORRIGIDA
BoladoHub.Themes = {
    NeonGrid = {
        Background = Color3.fromRGB(15, 15, 20),
        TitleBar = Color3.fromRGB(25, 25, 35),
        TabActive = Color3.fromRGB(0, 247, 255),
        TabInactive = Color3.fromRGB(40, 40, 55),
        Text = Color3.fromRGB(245, 245, 245),
        TextSecondary = Color3.fromRGB(180, 180, 180),
        Button = Color3.fromRGB(50, 50, 70),
        ButtonHover = Color3.fromRGB(70, 70, 90),
        Stroke = Color3.fromRGB(60, 60, 85),
        Error = Color3.fromRGB(255, 60, 60)
    },
    DarkRed = {
        Background = Color3.fromRGB(20, 10, 10),
        TitleBar = Color3.fromRGB(35, 15, 15),
        TabActive = Color3.fromRGB(255, 50, 50),
        TabInactive = Color3.fromRGB(50, 25, 25),
        Text = Color3.fromRGB(240, 240, 240)
    }
}

-- √çcones b√°sicos
BoladoHub.Icons = {
    ["sword"] = "rbxassetid://10709822794",
    ["eye"] = "rbxassetid://10709821924",
    ["user"] = "rbxassetid://10709822973",
    ["settings"] = "rbxassetid://10709823323",
    ["star"] = "rbxassetid://10709823499"
}

-- Fun√ß√£o principal para criar janela (CORRIGIDA)
function BoladoHub:CreateWindow(options)
    options = options or {}
    
    local player = Players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")
    
    -- Tema atual
    local theme = self.Themes.NeonGrid
    
    -- ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "BoladoHubUI"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    -- Frame principal
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Size = UDim2.new(0, 550, 0, 400)
    mainFrame.Position = UDim2.new(0.5, -275, 0.5, -200)
    mainFrame.BackgroundColor3 = theme.Background
    mainFrame.ClipsDescendants = true
    
    -- Cantos arredondados
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = mainFrame
    
    -- Borda
    local stroke = Instance.new("UIStroke")
    stroke.Color = theme.Stroke
    stroke.Thickness = 2
    stroke.Parent = mainFrame
    
    -- Barra de t√≠tulo (CORRIGIDA - AGORA VIS√çVEL)
    local titleBar = Instance.new("Frame")
    titleBar.Name = "TitleBar"
    titleBar.Size = UDim2.new(1, 0, 0, 45) -- Aumentado para ficar vis√≠vel
    titleBar.BackgroundColor3 = theme.TitleBar
    titleBar.Parent = mainFrame
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 12)
    titleCorner.Parent = titleBar
    
    -- T√≠tulo da janela (CORRIGIDO - AGORA VIS√çVEL)
    local titleText = Instance.new("TextLabel")
    titleText.Name = "Title"
    titleText.Size = UDim2.new(1, -100, 1, 0)
    titleText.Position = UDim2.new(0, 15, 0, 0)
    titleText.BackgroundTransparency = 1
    titleText.Text = options.Title or "üéÆ BoladoHub Premium" -- NOME VIS√çVEL
    titleText.TextColor3 = theme.TabActive
    titleText.Font = Enum.Font.GothamBold
    titleText.TextSize = 18
    titleText.TextXAlignment = Enum.TextXAlignment.Left
    titleText.Parent = titleBar
    
    -- Bot√£o fechar
    local closeBtn = Instance.new("TextButton")
    closeBtn.Name = "Close"
    closeBtn.Size = UDim2.new(0, 32, 0, 32)
    closeBtn.Position = UDim2.new(1, -37, 0.5, -16)
    closeBtn.BackgroundColor3 = theme.Error
    closeBtn.Text = "√ó"
    closeBtn.TextColor3 = Color3.new(1, 1, 1)
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 20
    closeBtn.AutoButtonColor = false
    
    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0, 8)
    closeCorner.Parent = closeBtn
    
    closeBtn.Parent = titleBar
    
    -- √Årea de conte√∫do (CORRIGIDA)
    local contentArea = Instance.new("Frame")
    contentArea.Name = "ContentArea"
    contentArea.Size = UDim2.new(1, -20, 1, -75) -- Ajustado para t√≠tulo vis√≠vel
    contentArea.Position = UDim2.new(0, 10, 0, 65) -- Ajustado
    contentArea.BackgroundTransparency = 1
    contentArea.Parent = mainFrame
    
    -- Container das tabs (LADO ESQUERDO - CORRIGIDO)
    local tabContainer = Instance.new("Frame")
    tabContainer.Name = "TabContainer"
    tabContainer.Size = UDim2.new(0, 160, 1, 0) -- Largura fixa para tabs
    tabContainer.BackgroundTransparency = 1
    tabContainer.Parent = contentArea
    
    local tabList = Instance.new("UIListLayout")
    tabList.Padding = UDim.new(0, 8)
    tabList.SortOrder = Enum.SortOrder.LayoutOrder
    tabList.Parent = tabContainer
    
    -- Conte√∫do das tabs (LADO DIREITO - CORRIGIDO)
    local tabContent = Instance.new("Frame")
    tabContent.Name = "TabContent"
    tabContent.Size = UDim2.new(1, -170, 1, 0) -- Restante do espa√ßo
    tabContent.Position = UDim2.new(0, 170, 0, 0) -- Depois das tabs
    tabContent.BackgroundTransparency = 1
    tabContent.ClipsDescendants = true
    tabContent.Parent = contentArea
    
    -- Arrastar janela
    local dragging = false
    local dragStart, frameStart
    
    titleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            frameStart = mainFrame.Position
        end
    end)
    
    titleBar.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(
                frameStart.X.Scale,
                frameStart.X.Offset + delta.X,
                frameStart.Y.Scale,
                frameStart.Y.Offset + delta.Y
            )
        end
    end)
    
    -- Efeitos bot√£o fechar
    closeBtn.MouseEnter:Connect(function()
        TweenService:Create(closeBtn, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(255, 100, 100)
        }):Play()
    end)
    
    closeBtn.MouseLeave:Connect(function()
        TweenService:Create(closeBtn, TweenInfo.new(0.2), {
            BackgroundColor3 = theme.Error
        }):Play()
    end)
    
    closeBtn.MouseButton1Click:Connect(function()
        screenGui:Destroy()
    end)
    
    -- Objeto da janela
    local window = {
        Tabs = {},
        CurrentTab = nil,
        Theme = theme
    }
    
    -- M√©todo para criar tab (CORRIGIDO)
    function window:CreateTab(tabOptions)
        local options = tabOptions or {}
        local tabId = #self.Tabs + 1
        
        -- Bot√£o da tab (CORRIGIDO - AGORA VIS√çVEL)
        local tabButton = Instance.new("TextButton")
        tabButton.Name = "TabButton_" .. tabId
        tabButton.Size = UDim2.new(1, 0, 0, 50) -- Altura aumentada
        tabButton.BackgroundColor3 = tabId == 1 and theme.TabActive or theme.TabInactive
        tabButton.Text = ""
        tabButton.AutoButtonColor = false
        tabButton.LayoutOrder = tabId
        tabButton.Parent = tabContainer
        
        local tabCorner = Instance.new("UICorner")
        tabCorner.CornerRadius = UDim.new(0, 10)
        tabCorner.Parent = tabButton
        
        local tabStroke = Instance.new("UIStroke")
        tabStroke.Color = theme.Stroke
        tabStroke.Thickness = 1
        tabStroke.Parent = tabButton
        
        -- √çcone da tab
        local icon = Instance.new("ImageLabel")
        icon.Name = "Icon"
        icon.Size = UDim2.new(0, 28, 0, 28)
        icon.Position = UDim2.new(0, 15, 0.5, -14)
        icon.BackgroundTransparency = 1
        icon.Image = self.Icons[options.Icon] or self.Icons["star"]
        icon.ImageColor3 = tabId == 1 and Color3.new(1, 1, 1) or theme.TabActive
        icon.Parent = tabButton
        
        -- Nome da tab (CORRIGIDO - AGORA VIS√çVEL)
        local tabName = Instance.new("TextLabel")
        tabName.Name = "TabName"
        tabName.Size = UDim2.new(1, -60, 1, 0)
        tabName.Position = UDim2.new(0, 55, 0, 0)
        tabName.BackgroundTransparency = 1
        tabName.Text = options.Name or "Tab " .. tabId
        tabName.TextColor3 = tabId == 1 and Color3.new(1, 1, 1) or theme.Text
        tabName.Font = Enum.Font.Gotham
        tabName.TextSize = 14
        tabName.TextXAlignment = Enum.TextXAlignment.Left
        tabName.Parent = tabButton
        
        -- Conte√∫do da tab (CORRIGIDO)
        local tabFrame = Instance.new("ScrollingFrame")
        tabFrame.Name = "TabFrame_" .. tabId
        tabFrame.Size = UDim2.new(1, 0, 1, 0)
        tabFrame.BackgroundTransparency = 1
        tabFrame.ScrollBarThickness = 4
        tabFrame.ScrollBarImageColor3 = theme.TabActive
        tabFrame.ScrollingDirection = Enum.ScrollingDirection.Y
        tabFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        tabFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        tabFrame.Visible = tabId == 1 -- Primeira tab vis√≠vel
        tabFrame.Parent = tabContent
        
        local tabListLayout = Instance.new("UIListLayout")
        tabListLayout.Padding = UDim.new(0, 10)
        tabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        tabListLayout.Parent = tabFrame
        
        local tabPadding = Instance.new("UIPadding")
        tabPadding.PaddingTop = UDim.new(0, 10)
        tabPadding.PaddingLeft = UDim.new(0, 10)
        tabPadding.PaddingRight = UDim.new(0, 10)
        tabPadding.Parent = tabFrame
        
        -- Fun√ß√£o para selecionar tab
        local function SelectTab()
            for i, tab in pairs(self.Tabs) do
                if tab.Frame then
                    tab.Frame.Visible = (i == tabId)
                end
                if tab.Button then
                    local targetColor = (i == tabId) and theme.TabActive or theme.TabInactive
                    local textColor = (i == tabId) and Color3.new(1, 1, 1) or theme.Text
                    local iconColor = (i == tabId) and Color3.new(1, 1, 1) or theme.TabActive
                    
                    TweenService:Create(tab.Button, TweenInfo.new(0.2), {
                        BackgroundColor3 = targetColor
                    }):Play()
                    
                    if tab.NameLabel then
                        TweenService:Create(tab.NameLabel, TweenInfo.new(0.2), {
                            TextColor3 = textColor
                        }):Play()
                    end
                    
                    if tab.Icon then
                        TweenService:Create(tab.Icon, TweenInfo.new(0.2), {
                            ImageColor3 = iconColor
                        }):Play()
                    end
                end
            end
            self.CurrentTab = tabId
        end
        
        -- Evento de clique na tab
        tabButton.MouseButton1Click:Connect(function()
            SelectTab()
            
            -- Efeito de clique
            TweenService:Create(tabButton, TweenInfo.new(0.1), {
                Size = UDim2.new(1, -5, 0, 50)
            }):Play()
            
            task.wait(0.1)
            
            TweenService:Create(tabButton, TweenInfo.new(0.1), {
                Size = UDim2.new(1, 0, 0, 50)
            }):Play()
        end)
        
        -- Efeitos hover
        tabButton.MouseEnter:Connect(function()
            if self.CurrentTab ~= tabId then
                TweenService:Create(tabButton, TweenInfo.new(0.2), {
                    BackgroundColor3 = Color3.fromRGB(
                        math.min(theme.TabInactive.R * 255 + 15, 255),
                        math.min(theme.TabInactive.G * 255 + 15, 255),
                        math.min(theme.TabInactive.B * 255 + 15, 255)
                    )
                }):Play()
            end
        end)
        
        tabButton.MouseLeave:Connect(function()
            if self.CurrentTab ~= tabId then
                TweenService:Create(tabButton, TweenInfo.new(0.2), {
                    BackgroundColor3 = theme.TabInactive
                }):Play()
            end
        end)
        
        -- Armazenar tab
        local tab = {
            Id = tabId,
            Name = options.Name,
            Button = tabButton,
            Frame = tabFrame,
            NameLabel = tabName,
            Icon = icon,
            Elements = {},
            Methods = {}
        }
        
        -- M√©todos da tab (SIMPLIFICADOS E FUNCIONAIS)
        function tab.Methods:CreateButton(btnOptions)
            local options = btnOptions or {}
            local elementId = #tab.Elements + 1
            
            local button = Instance.new("TextButton")
            button.Name = "Button_" .. elementId
            button.Size = UDim2.new(1, 0, 0, 42)
            button.BackgroundColor3 = theme.Button
            button.Text = options.Name or "Button " .. elementId
            button.TextColor3 = theme.TabActive
            button.Font = Enum.Font.Gotham
            button.TextSize = 14
            button.AutoButtonColor = false
            button.LayoutOrder = elementId
            button.Parent = tabFrame
            
            local btnCorner = Instance.new("UICorner")
            btnCorner.CornerRadius = UDim.new(0, 8)
            btnCorner.Parent = button
            
            local btnStroke = Instance.new("UIStroke")
            btnStroke.Color = theme.Stroke
            btnStroke.Thickness = 1
            btnStroke.Parent = button
            
            -- Efeitos
            button.MouseEnter:Connect(function()
                TweenService:Create(button, TweenInfo.new(0.2), {
                    BackgroundColor3 = theme.ButtonHover,
                    TextColor3 = Color3.new(1, 1, 1)
                }):Play()
            end)
            
            button.MouseLeave:Connect(function()
                TweenService:Create(button, TweenInfo.new(0.2), {
                    BackgroundColor3 = theme.Button,
                    TextColor3 = theme.TabActive
                }):Play()
            end)
            
            -- Clique
            if options.Callback then
                button.MouseButton1Click:Connect(function()
                    TweenService:Create(button, TweenInfo.new(0.1), {
                        BackgroundColor3 = Color3.fromRGB(255, 0, 247)
                    }):Play()
                    
                    task.wait(0.1)
                    
                    TweenService:Create(button, TweenInfo.new(0.1), {
                        BackgroundColor3 = theme.Button
                    }):Play()
                    
                    pcall(options.Callback)
                end)
            end
            
            local element = {
                Type = "Button",
                Instance = button
            }
            
            table.insert(tab.Elements, element)
            return element
        end
        
        function tab.Methods:CreateToggle(toggleOptions)
            local options = toggleOptions or {}
            local elementId = #tab.Elements + 1
            
            local toggleFrame = Instance.new("Frame")
            toggleFrame.Name = "Toggle_" .. elementId
            toggleFrame.Size = UDim2.new(1, 0, 0, 38)
            toggleFrame.BackgroundTransparency = 1
            toggleFrame.LayoutOrder = elementId
            toggleFrame.Parent = tabFrame
            
            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(0.7, 0, 1, 0)
            label.BackgroundTransparency = 1
            label.Text = options.Name or "Toggle " .. elementId
            label.TextColor3 = theme.Text
            label.Font = Enum.Font.Gotham
            label.TextSize = 14
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Parent = toggleFrame
            
            local toggleBtn = Instance.new("TextButton")
            toggleBtn.Size = UDim2.new(0, 52, 0, 26)
            toggleBtn.Position = UDim2.new(1, -57, 0.5, -13)
            toggleBtn.BackgroundColor3 = options.Default and Color3.fromRGB(0, 100, 100) or Color3.fromRGB(60, 60, 80)
            toggleBtn.Text = ""
            toggleBtn.AutoButtonColor = false
            toggleBtn.Parent = toggleFrame
            
            local btnCorner = Instance.new("UICorner")
            btnCorner.CornerRadius = UDim.new(1, 0)
            btnCorner.Parent = toggleBtn
            
            local indicator = Instance.new("Frame")
            indicator.Size = UDim2.new(0, 20, 0, 20)
            indicator.Position = options.Default and UDim2.new(1, -22, 0.5, -10) or UDim2.new(0, 2, 0.5, -10)
            indicator.BackgroundColor3 = options.Default and theme.TabActive or Color3.fromRGB(180, 180, 180)
            indicator.Parent = toggleBtn
            
            local indCorner = Instance.new("UICorner")
            indCorner.CornerRadius = UDim.new(1, 0)
            indCorner.Parent = indicator
            
            local state = options.Default or false
            
            toggleBtn.MouseButton1Click:Connect(function()
                state = not state
                
                local targetPos = state and UDim2.new(1, -22, 0.5, -10) or UDim2.new(0, 2, 0.5, -10)
                local targetColor = state and theme.TabActive or Color3.fromRGB(180, 180, 180)
                local bgColor = state and Color3.fromRGB(0, 100, 100) or Color3.fromRGB(60, 60, 80)
                
                TweenService:Create(indicator, TweenInfo.new(0.2), {
                    Position = targetPos,
                    BackgroundColor3 = targetColor
                }):Play()
                
                TweenService:Create(toggleBtn, TweenInfo.new(0.2), {
                    BackgroundColor3 = bgColor
                }):Play()
                
                if options.Callback then
                    pcall(options.Callback, state)
                end
            end)
            
            local element = {
                Type = "Toggle",
                State = state,
                Instance = toggleFrame
            }
            
            table.insert(tab.Elements, element)
            return element
        end
        
        function tab.Methods:CreateLabel(labelOptions)
            local options = labelOptions or {}
            local elementId = #tab.Elements + 1
            
            local label = Instance.new("TextLabel")
            label.Name = "Label_" .. elementId
            label.Size = UDim2.new(1, 0, 0, 30)
            label.BackgroundTransparency = 1
            label.Text = options.Text or "Label " .. elementId
            label.TextColor3 = options.Color or theme.TextSecondary
            label.Font = Enum.Font.Gotham
            label.TextSize = options.Size or 14
            label.TextXAlignment = options.Alignment or Enum.TextXAlignment.Left
            label.LayoutOrder = elementId
            label.Parent = tabFrame
            
            local element = {
                Type = "Label",
                Instance = label
            }
            
            table.insert(tab.Elements, element)
            return element
        end
        
        -- Primeira tab selecionada por padr√£o
        if tabId == 1 then
            SelectTab()
        end
        
        table.insert(self.Tabs, tab)
        return tab.Methods
    end
    
    -- Adicionar √† tela
    screenGui.Parent = playerGui
    mainFrame.Parent = screenGui
    
    return window
end

-- Fun√ß√£o de inicializa√ß√£o
function BoladoHub:Init(options)
    print("‚úÖ BoladoHub inicializado!")
    return self
end

-- Exportar
return BoladoHub