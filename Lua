-- BoladoHub v1.1 - COMPLETO E FUNCIONAL
local MarketplaceService = game:GetService("MarketplaceService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerMouse = Player:GetMouse()

local boladolib = {
	Themes = {
		Darker = {
			["Color Hub 1"] = ColorSequence.new({
				ColorSequenceKeypoint.new(0.00, Color3.fromRGB(25, 25, 25)),
				ColorSequenceKeypoint.new(0.50, Color3.fromRGB(32.5, 32.5, 32.5)),
				ColorSequenceKeypoint.new(1.00, Color3.fromRGB(25, 25, 25))
			}),
			["Color Hub 2"] = Color3.fromRGB(30, 30, 30),
			["Color Stroke"] = Color3.fromRGB(40, 40, 40),
			["Color Theme"] = Color3.fromRGB(88, 101, 242),
			["Color Text"] = Color3.fromRGB(243, 243, 243),
			["Color Dark Text"] = Color3.fromRGB(180, 180, 180)
		},
		Dark = {
			["Color Hub 1"] = ColorSequence.new({
				ColorSequenceKeypoint.new(0.00, Color3.fromRGB(40, 40, 40)),
				ColorSequenceKeypoint.new(0.50, Color3.fromRGB(47.5, 47.5, 47.5)),
				ColorSequenceKeypoint.new(1.00, Color3.fromRGB(40, 40, 40))
			}),
			["Color Hub 2"] = Color3.fromRGB(45, 45, 45),
			["Color Stroke"] = Color3.fromRGB(65, 65, 65),
			["Color Theme"] = Color3.fromRGB(65, 150, 255),
			["Color Text"] = Color3.fromRGB(245, 245, 245),
			["Color Dark Text"] = Color3.fromRGB(190, 190, 190)
		},
		Purple = {
			["Color Hub 1"] = ColorSequence.new({
				ColorSequenceKeypoint.new(0.00, Color3.fromRGB(27.5, 25, 30)),
				ColorSequenceKeypoint.new(0.50, Color3.fromRGB(32.5, 32.5, 32.5)),
				ColorSequenceKeypoint.new(1.00, Color3.fromRGB(27.5, 25, 30))
			}),
			["Color Hub 2"] = Color3.fromRGB(30, 30, 30),
			["Color Stroke"] = Color3.fromRGB(40, 40, 40),
			["Color Theme"] = Color3.fromRGB(150, 0, 255),
			["Color Text"] = Color3.fromRGB(240, 240, 240),
			["Color Dark Text"] = Color3.fromRGB(180, 180, 180)
		}
	},
	Info = {
		Version = "1.1.0"
	},
	Save = {
		UISize = {450, 300},
		TabSize = 160,
		Theme = "Darker"
	},
	Settings = {},
	Connection = {},
	Instances = {},
	Elements = {},
	Options = {},
	Flags = {},
	Tabs = {},
	Icons = {}
}

-- Carregar √≠cones do seu c√≥digo
local IconsList = {
	["accessibility"] = "rbxassetid://10709751939",
	["activity"] = "rbxassetid://10709752035",
	-- ... (todos os seus √≠cones aqui - vou simplificar para os principais)
	["sword"] = "rbxassetid://10734975486",
	["eye"] = "rbxassetid://10723346959",
	["user"] = "rbxassetid://10747373176",
	["settings"] = "rbxassetid://10734950309",
	["star"] = "rbxassetid://10734966248",
	["bolt"] = "rbxassetid://10709721749"
}

-- Atribuir √≠cones
for name, id in pairs(IconsList) do
	boladolib.Icons[name] = id
end

-- Fun√ß√µes utilit√°rias
local function Create(className, props)
	local obj = Instance.new(className)
	for prop, val in pairs(props) do
		if prop == "Parent" then
			obj.Parent = val
		elseif prop == "Children" then
			for _, child in pairs(val) do
				child.Parent = obj
			end
		else
			obj[prop] = val
		end
	end
	return obj
end

-- Sistema de Drag FUNCIONAL
local function MakeDraggable(frame, handle)
	local dragging = false
	local dragStart, frameStart
	
	handle.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			frameStart = frame.Position
			
			-- Efeito visual
			TweenService:Create(handle, TweenInfo.new(0.1), {
				BackgroundTransparency = 0.5
			}):Play()
		end
	end)
	
	handle.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = false
			
			TweenService:Create(handle, TweenInfo.new(0.1), {
				BackgroundTransparency = 0
			}):Play()
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - dragStart
			frame.Position = UDim2.new(
				frameStart.X.Scale,
				frameStart.X.Offset + delta.X,
				frameStart.Y.Scale,
				frameStart.Y.Offset + delta.Y
			)
		end
	end)
end

-- Fun√ß√£o principal para criar janela
function boladolib:CreateWindow(options)
	options = options or {}
	
	local theme = self.Themes[self.Save.Theme] or self.Themes.Darker
	
	-- ScreenGui
	local screenGui = Create("ScreenGui", {
		Name = "BoladoHub",
		ResetOnSpawn = false,
		ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
		DisplayOrder = 999,
		Parent = Player:WaitForChild("PlayerGui")
	})
	
	-- Frame principal com gradiente
	local mainFrame = Create("Frame", {
		Name = "MainFrame",
		Size = UDim2.new(0, self.Save.UISize[1], 0, self.Save.UISize[2]),
		Position = UDim2.new(0.5, -self.Save.UISize[1]/2, 0.5, -self.Save.UISize[2]/2),
		BackgroundColor3 = Color3.new(1, 1, 1),
		Parent = screenGui
	})
	
	local uiGradient = Create("UIGradient", {
		Color = theme["Color Hub 1"],
		Rotation = 90,
		Parent = mainFrame
	})
	
	local uiCorner = Create("UICorner", {
		CornerRadius = UDim.new(0, 10),
		Parent = mainFrame
	})
	
	local uiStroke = Create("UIStroke", {
		Color = theme["Color Stroke"],
		Thickness = 2,
		Parent = mainFrame
	})
	
	-- Barra de t√≠tulo (ARR√ÅSTAVEL)
	local titleBar = Create("Frame", {
		Name = "TitleBar",
		Size = UDim2.new(1, 0, 0, 40),
		BackgroundColor3 = theme["Color Hub 2"],
		Parent = mainFrame
	})
	
	local titleCorner = Create("UICorner", {
		CornerRadius = UDim.new(0, 10),
		Parent = titleBar
	})
	
	-- T√≠tulo VIS√çVEL
	local titleText = Create("TextLabel", {
		Name = "Title",
		Size = UDim2.new(1, -100, 1, 0),
		Position = UDim2.new(0, 15, 0, 0),
		BackgroundTransparency = 1,
		Text = options.Title or "üî• BOLADOHUB PREMIUM",
		TextColor3 = theme["Color Theme"],
		Font = Enum.Font.GothamBold,
		TextSize = 18,
		TextXAlignment = Enum.TextXAlignment.Left,
		Parent = titleBar
	})
	
	-- Bot√£o fechar
	local closeBtn = Create("TextButton", {
		Name = "Close",
		Size = UDim2.new(0, 35, 0, 35),
		Position = UDim2.new(1, -40, 0.5, -17.5),
		BackgroundColor3 = Color3.fromRGB(255, 60, 60),
		Text = "‚úï",
		TextColor3 = Color3.new(1, 1, 1),
		Font = Enum.Font.GothamBold,
		TextSize = 18,
		AutoButtonColor = false,
		Parent = titleBar
	})
	
	local closeCorner = Create("UICorner", {
		CornerRadius = UDim.new(0, 6),
		Parent = closeBtn
	})
	
	-- Conte√∫do
	local contentArea = Create("Frame", {
		Name = "ContentArea",
		Size = UDim2.new(1, -20, 1, -60),
		Position = UDim2.new(0, 10, 0, 55),
		BackgroundTransparency = 1,
		Parent = mainFrame
	})
	
	-- Tabs (LADO ESQUERDO - VIS√çVEIS)
	local tabContainer = Create("Frame", {
		Name = "TabContainer",
		Size = UDim2.new(0, self.Save.TabSize, 1, 0),
		BackgroundTransparency = 1,
		Parent = contentArea
	})
	
	local tabListLayout = Create("UIListLayout", {
		Padding = UDim.new(0, 8),
		SortOrder = Enum.SortOrder.LayoutOrder,
		Parent = tabContainer
	})
	
	-- Conte√∫do das tabs (LADO DIREITO)
	local tabContent = Create("Frame", {
		Name = "TabContent",
		Size = UDim2.new(1, -self.Save.TabSize - 10, 1, 0),
		Position = UDim2.new(0, self.Save.TabSize + 10, 0, 0),
		BackgroundTransparency = 1,
		Parent = contentArea
	})
	
	-- Configurar drag
	MakeDraggable(mainFrame, titleBar)
	
	-- Efeitos bot√£o fechar
	closeBtn.MouseEnter:Connect(function()
		TweenService:Create(closeBtn, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(255, 100, 100),
			Size = UDim2.new(0, 38, 0, 38)
		}):Play()
	end)
	
	closeBtn.MouseLeave:Connect(function()
		TweenService:Create(closeBtn, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(255, 60, 60),
			Size = UDim2.new(0, 35, 0, 35)
		}):Play()
	end)
	
	closeBtn.MouseButton1Click:Connect(function()
		screenGui:Destroy()
	end)
	
	-- Objeto da janela
	local window = {
		_instance = mainFrame,
		_screenGui = screenGui,
		_tabs = {},
		_currentTab = 1,
		_methods = {}
	}
	
	-- M√©todo para criar tab
	function window._methods:CreateTab(tabOptions)
		local options = tabOptions or {}
		local tabId = #window._tabs + 1
		
		-- Bot√£o da tab (VIS√çVEL)
		local tabButton = Create("TextButton", {
			Name = "Tab_" .. tabId,
			Size = UDim2.new(1, 0, 0, 50),
			BackgroundColor3 = tabId == 1 and theme["Color Theme"] or theme["Color Hub 2"],
			Text = "",
			AutoButtonColor = false,
			LayoutOrder = tabId,
			Parent = tabContainer
		})
		
		local tabCorner = Create("UICorner", {
			CornerRadius = UDim.new(0, 8),
			Parent = tabButton
		})
		
		local tabStroke = Create("UIStroke", {
			Color = theme["Color Stroke"],
			Thickness = 1,
			Parent = tabButton
		})
		
		-- √çcone da tab
		local icon = Create("ImageLabel", {
			Name = "Icon",
			Size = UDim2.new(0, 24, 0, 24),
			Position = UDim2.new(0, 15, 0.5, -12),
			BackgroundTransparency = 1,
			Image = boladolib.Icons[options.Icon] or boladolib.Icons["star"],
			ImageColor3 = tabId == 1 and Color3.new(1, 1, 1) or theme["Color Theme"],
			Parent = tabButton
		})
		
		-- Nome da tab (VIS√çVEL)
		local tabName = Create("TextLabel", {
			Name = "TabName",
			Size = UDim2.new(1, -50, 1, 0),
			Position = UDim2.new(0, 50, 0, 0),
			BackgroundTransparency = 1,
			Text = options.Name or "Tab " .. tabId,
			TextColor3 = tabId == 1 and Color3.new(1, 1, 1) or theme["Color Text"],
			Font = Enum.Font.Gotham,
			TextSize = 14,
			TextXAlignment = Enum.TextXAlignment.Left,
			Parent = tabButton
		})
		
		-- Conte√∫do da tab
		local tabFrame = Create("ScrollingFrame", {
			Name = "TabFrame_" .. tabId,
			Size = UDim2.new(1, 0, 1, 0),
			BackgroundTransparency = 1,
			ScrollBarThickness = 4,
			ScrollBarImageColor3 = theme["Color Theme"],
			ScrollingDirection = Enum.ScrollingDirection.Y,
			AutomaticCanvasSize = Enum.AutomaticSize.Y,
			CanvasSize = UDim2.new(0, 0, 0, 0),
			Visible = tabId == 1,
			Parent = tabContent
		})
		
		local frameLayout = Create("UIListLayout", {
			Padding = UDim.new(0, 10),
			SortOrder = Enum.SortOrder.LayoutOrder,
			Parent = tabFrame
		})
		
		local framePadding = Create("UIPadding", {
			PaddingTop = UDim.new(0, 10),
			PaddingLeft = UDim.new(0, 10),
			PaddingRight = UDim.new(0, 10),
			Parent = tabFrame
		})
		
		-- Fun√ß√£o para selecionar tab
		local function SelectTab()
			for i, tab in pairs(window._tabs) do
				if tab.frame then
					tab.frame.Visible = (i == tabId)
				end
				if tab.button then
					tab.button.BackgroundColor3 = (i == tabId) and theme["Color Theme"] or theme["Color Hub 2"]
					tab.name.TextColor3 = (i == tabId) and Color3.new(1, 1, 1) or theme["Color Text"]
					tab.icon.ImageColor3 = (i == tabId) and Color3.new(1, 1, 1) or theme["Color Theme"]
				end
			end
			window._currentTab = tabId
		end
		
		-- Evento de clique
		tabButton.MouseButton1Click:Connect(function()
			SelectTab()
			
			-- Efeito de clique
			TweenService:Create(tabButton, TweenInfo.new(0.1), {
				Size = UDim2.new(1, -5, 0, 50)
			}):Play()
			
			task.wait(0.1)
			
			TweenService:Create(tabButton, TweenInfo.new(0.1), {
				Size = UDim2.new(1, 0, 0, 50)
			}):Play()
		end)
		
		-- Efeitos hover
		tabButton.MouseEnter:Connect(function()
			if window._currentTab ~= tabId then
				TweenService:Create(tabButton, TweenInfo.new(0.2), {
					BackgroundColor3 = Color3.fromRGB(
						theme["Color Hub 2"].R * 255 + 10,
						theme["Color Hub 2"].G * 255 + 10,
						theme["Color Hub 2"].B * 255 + 10
					)
				}):Play()
			end
		end)
		
		tabButton.MouseLeave:Connect(function()
			if window._currentTab ~= tabId then
				TweenService:Create(tabButton, TweenInfo.new(0.2), {
					BackgroundColor3 = theme["Color Hub 2"]
				}):Play()
			end
		end)
		
		-- M√©todos da tab
		local tabMethods = {}
		
		function tabMethods:CreateButton(buttonOptions)
			local options = buttonOptions or {}
			local elementId = #tabFrame:GetChildren()
			
			local button = Create("TextButton", {
				Name = "Button_" .. elementId,
				Size = UDim2.new(1, 0, 0, 45),
				BackgroundColor3 = theme["Color Hub 2"],
				Text = options.Name or "Button " .. elementId,
				TextColor3 = theme["Color Theme"],
				Font = Enum.Font.Gotham,
				TextSize = 14,
				AutoButtonColor = false,
				LayoutOrder = elementId,
				Parent = tabFrame
			})
			
			local btnCorner = Create("UICorner", {
				CornerRadius = UDim.new(0, 8),
				Parent = button
			})
			
			local btnStroke = Create("UIStroke", {
				Color = theme["Color Stroke"],
				Thickness = 1,
				Parent = button
			})
			
			-- Efeitos
			button.MouseEnter:Connect(function()
				TweenService:Create(button, TweenInfo.new(0.2), {
					BackgroundColor3 = Color3.fromRGB(
						theme["Color Hub 2"].R * 255 + 15,
						theme["Color Hub 2"].G * 255 + 15,
						theme["Color Hub 2"].B * 255 + 15
					),
					TextColor3 = Color3.new(1, 1, 1)
				}):Play()
			end)
			
			button.MouseLeave:Connect(function()
				TweenService:Create(button, TweenInfo.new(0.2), {
					BackgroundColor3 = theme["Color Hub 2"],
					TextColor3 = theme["Color Theme"]
				}):Play()
			end)
			
			-- Clique
			if options.Callback then
				button.MouseButton1Click:Connect(function()
					TweenService:Create(button, TweenInfo.new(0.1), {
						BackgroundColor3 = Color3.fromRGB(255, 0, 247)
					}):Play()
					
					task.wait(0.1)
					
					TweenService:Create(button, TweenInfo.new(0.1), {
						BackgroundColor3 = theme["Color Hub 2"]
					}):Play()
					
					pcall(options.Callback)
				end)
			end
			
			return button
		end
		
		function tabMethods:CreateToggle(toggleOptions)
			local options = toggleOptions or {}
			local elementId = #tabFrame:GetChildren()
			
			local toggleFrame = Create("Frame", {
				Name = "Toggle_" .. elementId,
				Size = UDim2.new(1, 0, 0, 40),
				BackgroundTransparency = 1,
				LayoutOrder = elementId,
				Parent = tabFrame
			})
			
			local label = Create("TextLabel", {
				Size = UDim2.new(0.7, 0, 1, 0),
				BackgroundTransparency = 1,
				Text = options.Name or "Toggle " .. elementId,
				TextColor3 = theme["Color Text"],
				Font = Enum.Font.Gotham,
				TextSize = 14,
				TextXAlignment = Enum.TextXAlignment.Left,
				Parent = toggleFrame
			})
			
			local toggleBtn = Create("TextButton", {
				Size = UDim2.new(0, 52, 0, 26),
				Position = UDim2.new(1, -57, 0.5, -13),
				BackgroundColor3 = options.Default and Color3.fromRGB(0, 100, 100) or Color3.fromRGB(60, 60, 80),
				Text = "",
				AutoButtonColor = false,
				Parent = toggleFrame
			})
			
			local btnCorner = Create("UICorner", {
				CornerRadius = UDim.new(1, 0),
				Parent = toggleBtn
			})
			
			local indicator = Create("Frame", {
				Size = UDim2.new(0, 20, 0, 20),
				Position = options.Default and UDim2.new(1, -22, 0.5, -10) or UDim2.new(0, 2, 0.5, -10),
				BackgroundColor3 = options.Default and theme["Color Theme"] or Color3.fromRGB(180, 180, 180),
				Parent = toggleBtn
			})
			
			local indCorner = Create("UICorner", {
				CornerRadius = UDim.new(1, 0),
				Parent = indicator
			})
			
			local state = options.Default or false
			
			toggleBtn.MouseButton1Click:Connect(function()
				state = not state
				
				local targetPos = state and UDim2.new(1, -22, 0.5, -10) or UDim2.new(0, 2, 0.5, -10)
				local targetColor = state and theme["Color Theme"] or Color3.fromRGB(180, 180, 180)
				local bgColor = state and Color3.fromRGB(0, 100, 100) or Color3.fromRGB(60, 60, 80)
				
				TweenService:Create(indicator, TweenInfo.new(0.2), {
					Position = targetPos,
					BackgroundColor3 = targetColor
				}):Play()
				
				TweenService:Create(toggleBtn, TweenInfo.new(0.2), {
					BackgroundColor3 = bgColor
				}):Play()
				
				if options.Callback then
					pcall(options.Callback, state)
				end
			end)
			
			return toggleFrame
		end
		
		function tabMethods:CreateLabel(labelOptions)
			local options = labelOptions or {}
			local elementId = #tabFrame:GetChildren()
			
			local label = Create("TextLabel", {
				Name = "Label_" .. elementId,
				Size = UDim2.new(1, 0, 0, 30),
				BackgroundTransparency = 1,
				Text = options.Text or "Label " .. elementId,
				TextColor3 = options.Color or theme["Color Dark Text"],
				Font = Enum.Font.Gotham,
				TextSize = options.Size or 14,
				TextXAlignment = options.Alignment or Enum.TextXAlignment.Left,
				LayoutOrder = elementId,
				Parent = tabFrame
			})
			
			return label
		end
		
		-- Armazenar tab
		local tab = {
			id = tabId,
			name = tabName,
			button = tabButton,
			frame = tabFrame,
			icon = icon,
			methods = tabMethods
		}
		
		table.insert(window._tabs, tab)
		
		-- Primeira tab vis√≠vel
		if tabId == 1 then
			SelectTab()
		end
		
		return tabMethods
	end
	
	function window._methods:Destroy()
		screenGui:Destroy()
	end
	
	return window._methods
end

-- Fun√ß√£o de inicializa√ß√£o
function boladolib:Init()
	print("‚úÖ BoladoHub v" .. self.Info.Version .. " carregado!")
	return self
end

return boladolib